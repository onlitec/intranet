{% extends "base.html" %}

{% block title %}Bem-vindo{% endblock %}
{% block body_class %}login-page{% endblock %}

{% block body %}
<div class="login-container" style="max-width: 480px;">
    <div class="login-header">
        <div class="login-logo">üñ•Ô∏è</div>
        <h1 class="login-title">ES-SERVIDOR</h1>
        <p class="login-subtitle">Intranet Corporativa</p>
    </div>

    <div style="display: flex; flex-direction: column; gap: 16px;">
        <a href="{{ url_for('user_login') }}" class="btn btn-primary btn-lg btn-block" style="padding: 16px;">
            <span style="font-size: 20px; margin-right: 8px;">üë§</span>
            Acesso Usu√°rio
        </a>
        <a href="{{ url_for('admin.login') }}" class="btn btn-secondary btn-lg btn-block" style="padding: 16px;">
            <span style="font-size: 20px; margin-right: 8px;">‚öôÔ∏è</span>
            Painel Admin
        </a>
    </div>

    <div class="login-footer" style="margin-top: 32px;">
        <div id="status-check"
            style="display: flex; align-items: center; justify-content: center; gap: 8px; color: var(--text-muted); font-size: var(--text-sm);">
            <span class="spinner"
                style="width: 14px; height: 14px; border-width: 2px; border-color: var(--text-muted); border-top-color: var(--primary);"></span>
            Verificando conex√£o...
        </div>
    </div>
</div>

<script>
    fetch('/api/status')
        .then(r => r.json())
        .then(data => {
            const el = document.getElementById('status-check');
            if (data.esservidor_connection) {
                el.innerHTML = '<span style="color: var(--success);">‚óè</span> ES-SERVIDOR Online';
                el.style.color = 'var(--success-dark)';
            } else {
                el.innerHTML = '<span style="color: var(--error);">‚óè</span> ES-SERVIDOR Offline';
                el.style.color = 'var(--error-dark)';
            }
        })
        .catch(() => {
            const el = document.getElementById('status-check');
            el.innerHTML = '<span style="color: var(--error);">‚óè</span> Erro de Conex√£o';
            el.style.color = 'var(--error-dark)';
        });
</script>
{% endblock %}